#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞ —Å podman
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: ./scripts/build.sh [tag]

set -e

# –ü–æ–ª—É—á–∞–µ–º —Ç–µ–≥ –∏–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º latest
TAG=${1:-latest}
IMAGE_NAME="geohod-frontend"

echo "üî® –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞ $IMAGE_NAME:$TAG..."

# –°–æ–±–∏—Ä–∞–µ–º –æ–±—Ä–∞–∑
podman build -t $IMAGE_NAME:$TAG .

echo "‚úÖ –û–±—Ä–∞–∑ $IMAGE_NAME:$TAG —É—Å–ø–µ—à–Ω–æ —Å–æ–±—Ä–∞–Ω!"

# –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ–±—Ä–∞–∑–µ
echo "üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–±—Ä–∞–∑–µ:"
podman images $IMAGE_NAME:$TAG 